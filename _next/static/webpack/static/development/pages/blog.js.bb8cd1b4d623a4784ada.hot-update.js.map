{"version":3,"file":"static/webpack/static/development/pages/blog.js.bb8cd1b4d623a4784ada.hot-update.js","sources":["webpack:///./tools/blog.js"],"sourcesContent":["import matter from 'gray-matter'\n\nexport const loadPosts = () => {\n  let loadedFiles = require.context(\n    '../posts', true, /\\.md$/)\n\n  // process them with gray-matter\n  const posts = (ctx => {\n    const keys = ctx.keys();\n    const values = keys.map(ctx);\n\n    const data = keys.map((key, index) => {\n      // gather the filename and turn it into a slug\n      const slug = key.replace(\n        /^.*[\\\\\\/]/, ''\n      ).split('.').slice(0, -1).join('.')\n\n      // value is an object the file content\n      const value = values[index]\n\n      // parse the document and its meta data\n      const document = matter(value.default)\n\n      // make the data available as props\n      return {\n        document,\n        slug\n      }\n    })\n\n    // sort them by most recent\n    data.sort((a, b) => a - b)\n    console.log('data', data)\n\n    return data\n  })(loadedFiles)\n\n  return {\n    posts\n  }\n}\n\nexport const truncateDescription = (description) => {\n  let limit = 150\n  description = description.substring(0, limit)\n  description = description.length == limit ? description.trim() + '...' : description\n  return description\n}\n\nexport default loadPosts\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAIA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAFA;AAIA;AACA;AAEA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AADA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;A","sourceRoot":""}